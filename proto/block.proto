syntax = "proto3";

package gemolithcore;

option go_package = "github.com/gemolith/gemolithcore/pkg/proto";

import "proto/transaction.proto";

// Block represents a complete block in the blockchain
message Block {
    BlockHeader header = 1;
    repeated Transaction transactions = 2;
    string hash = 3;
    uint64 size = 4;
}

// BlockHeader contains the block metadata, indexes
message BlockHeader {
    string previous_hash = 1;
    string merkle_root = 2;
    uint64 timestamp = 3;
    uint32 difficulty = 4;
    uint64 nonce = 5;
    uint64 height = 6;
    uint32 version = 7;
    uint64 total_fees = 8;
    uint64 gas_used = 9;     // Total gas consumed by all transactions in block
    uint64 gas_limit = 10;   // Maximum gas allowed in this block
    
    // EIP-1559 fee fields
    uint64 base_fee = 11;    // Base fee per gas for this block
    uint64 total_burned = 12; // Total amount burned in this block
    uint64 total_tips = 13;   // Total tips paid to validator in this block
    string validator_address = 14; // Address of the validator who produced this block (PoS only)
}
